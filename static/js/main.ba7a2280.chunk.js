(this.webpackJsonpconflictresolution=this.webpackJsonpconflictresolution||[]).push([[0],{46:function(e,t,a){e.exports=a(81)},51:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n,r,o,c=a(0),i=a.n(c),l=a(31),s=a.n(l),u=(a(51),a(12)),m=a(43),d=a(23),p=a(8),f=a(7),v=a(13),g=function(e){var t=Object(c.useRef)(null),a=Object(c.useRef)(),n=Object(c.useState)(e.position||new f.Point),r=Object(u.a)(n,2),o=r[0],l=(r[1],e.bounce?"".concat(".","/images/ui/marker.svg"):"".concat(".","/images/ui/marker-green.svg"));Object(c.useEffect)((function(){v.a.from(t.current,{duration:1,ease:"elastic.out(2, 0.5)",pixi:{visible:!1,scale:.1}}).delay(e.delay||0)}),[e.delay]),Object(c.useEffect)((function(){var a;return!1!==e.bounce&&(a=v.a.to(t.current,{duration:.5,yoyo:!0,repeat:-1,pixi:{y:"-=40"}}).delay(1+Math.random())),function(){var e;null===(e=a)||void 0===e||e.kill()}}),[e.bounce]);var s=function(e){},m=function(){a.current=void 0},d=function(){};return i.a.createElement(p.Sprite,Object.assign({},e,{anchor:[.5,.5],position:o,ref:t,interactive:!0,image:l,mousedown:s,touchstart:s,mouseup:m,mouseupoutside:m,mousemove:d,touchmove:d}))},b=a(25),E=a.n(b);a(74);!function(e){e.sprite="sprite",e.avatar="avatar"}(n||(n={})),function(e){e.angle="angle",e.front="front",e.side="side",e.angry="angry"}(r||(r={})),function(e){e.caption="caption",e.speech="speech",e.image="image"}(o||(o={}));var h=a(5),y=a(83),O=a(44);var w=function(e){var t=e.sceneConfig,a=e.avatar,r=Object(O.a)(e,["sceneConfig","avatar"]);return i.a.createElement(p.Stage,{width:1280,height:720,className:"scene",options:{backgroundColor:16777215}},i.a.createElement(p.Container,r,t.map((function(e){return function(e){var t=[e.scale||1,e.scale||1];switch(e.flipped&&(t[0]=-t[0]),e.type){case n.avatar:return i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/").concat(a,"-").concat(e.pose||"front",".png"),key:"avatar",position:e.position||[0,0],scale:t,anchor:[.5,0]});default:return i.a.createElement(p.Sprite,{image:"".concat(".","/").concat(e.image),key:e.image,position:e.position||[0,0]})}}(e)}))))};a(75);v.a.registerPlugin(y.a);var S,j=function(e){var t=e.content,a=e.translations,n=e.avatar,r=e.selectedAnswer,l=void 0===r?null:r,s=Object(c.useState)(l),m=Object(u.a)(s,2),p=m[0],f=m[1],g=Object(c.useMemo)((function(){return null===p?null:e.content.reactions[p]}),[e.content.reactions,p]),b=Object(c.useState)(null!=l),E=Object(u.a)(b,2),y=E[0],O=E[1],S=Object(c.useState)((null===g||void 0===g?void 0:g.scene)||e.content.scene),j=Object(u.a)(S,2),x=j[0],N=j[1],k=Object(c.useRef)(null),C=Object(c.useRef)(null),A=Object(c.useRef)(null),R=Object(c.useRef)(null),P=Object(c.useRef)(null),_=Object(c.useRef)(null);Object(c.useEffect)((function(){d.a.add("correct","".concat(".","/sound/correct.mp3")),d.a.add("wrong","".concat(".","/sound/wrong.mp3"))}),[]);var T=Object(c.useRef)(),W=Object(c.useCallback)((function(){var e=v.a.timeline();T.current=e;var n=A.current,r=R.current;v.a.killTweensOf(n),v.a.killTweensOf(k.current),v.a.killTweensOf(r),_.current&&_.current.removeAttribute("style"),k.current.removeAttribute("style"),C.current.removeAttribute("style"),r.removeAttribute("style"),n.innerHTML=a[t.sequence[0].text],t.sequence.forEach((function(t,r){var c=function(){C.current&&(C.current.style.visibility=t.type===o.speech?"visible":"hidden"),t.type!==o.image&&(k.current&&(k.current.className="balloon ".concat(t.type)),n.innerHTML=a[t.text],t.balloonArrowPos&&C.current&&(C.current.style.right="".concat(t.balloonArrowPos,"%")),D()),t.scene&&N(t.scene)};switch(e.add("seq-".concat(r)),t.type){case o.caption:e.to(n,{onStart:c,duration:.025*a[t.text].length/1,text:{value:a[t.text],oldClass:"hidden",newClass:"visible"},ease:h.b.easeNone}),e.to(n,{duration:3});break;case o.speech:e.to(n,{onStart:c,duration:.045*a[t.text].length/1,ease:h.b.easeNone});break;case o.image:e.to(k.current,{onStart:c,duration:.25,autoAlpha:0,ease:h.b.easeNone}),e.to(C.current,{duration:.25,autoAlpha:0,ease:h.b.easeNone},"-=.25")}})),e.add("seq-".concat(t.sequence.length)),e.to(k.current,{delay:1,duration:.5,autoAlpha:0,ease:h.b.easeNone}),e.add("end"),e.to(r,{onStart:function(){_.current&&(_.current.style.display="none"),C.current&&(C.current.style.visibility="hidden")},duration:.5,left:0,ease:h.d.easeInOut},"-=1")}),[t.sequence,a]),D=function(){if(k.current&&C.current){var e=k.current.getBoundingClientRect();C.current.style.top="".concat(k.current.offsetTop+e.height,"px")}};Object(c.useEffect)((function(){return window.addEventListener("resize",D),function(){window.removeEventListener("resize",D)}}),[]);var M=function(){if(T.current){var e=parseInt(T.current.currentLabel().substring("seq-".length));isNaN(e)||T.current.seek("seq-".concat(e+1),!1)}};Object(c.useEffect)((function(){l?(R.current.style.left="0px",k.current.style.visibility="hidden"):W()}),[t.sequence,W,l]);var H=function(){O(!0),N(g.scene),g.correct?(d.a.play("correct"),e.setCorrectAnswer(p)):d.a.play("wrong")},L=function(){T.current&&(N(e.content.scene),f(null),O(!1),T.current.seek("end",!1))},q=function(e,t){if(null===p)return i.a.createElement("li",{key:e,className:"normal",onClick:function(e){return function(e,t){if(e.className="animating",P.current){var a=P.current.querySelectorAll(".options .normal");v.a.to(a,{duration:.5,opacity:0,ease:h.b.easeNone});var n=P.current.querySelector(".options").getBoundingClientRect().top,r=e.getBoundingClientRect().top,o=Math.abs(n-r);v.a.to(e,{duration:.5,top:-o,ease:h.b.easeNone,onComplete:function(){setTimeout((function(){e.className="",f(t)}),250)}})}}(e.currentTarget,t)}},i.a.createElement("div",{className:"text"},a[e]));if(p===t){var n="selected";return y&&(n=(null===g||void 0===g?void 0:g.correct)?"correct":"wrong"),i.a.createElement("li",{key:e,className:n},i.a.createElement("div",{className:"text"},a[e]))}};return i.a.createElement("div",{className:"modal-content modal-conflict",ref:P},i.a.createElement("div",{className:"situation",onClick:M},e.content.scene&&i.a.createElement(w,{sceneConfig:x,avatar:n}),i.a.createElement("div",{className:"inset",ref:R},i.a.createElement("p",null,a[t.description]),i.a.createElement("ul",{className:"options"},t.options.map((function(e,t){return q(e,t)}))),g?y?i.a.createElement(i.a.Fragment,null,(null===g||void 0===g?void 0:g.correct)&&i.a.createElement("p",{className:"right-option"},a["right-option"]),a[g.text].split("\n").map((function(e){return i.a.createElement("p",{key:e.substring(0,10)},e)})),!(null===g||void 0===g?void 0:g.correct)&&i.a.createElement("button",{onClick:L,className:"button-replay"},a["try-again-button"])):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,a[g.confirmText]),i.a.createElement("p",{className:"yesno"},i.a.createElement("button",{onClick:H},a.yes),i.a.createElement("span",{className:"motivation"},a[g.yesText])),i.a.createElement("p",{className:"yesno"},i.a.createElement("button",{onClick:L},a.no),i.a.createElement("span",{className:"motivation"},a[g.noText]))):null),i.a.createElement("div",{className:"balloon",ref:k},i.a.createElement("span",{ref:A})),i.a.createElement("div",{className:"balloon-arrow",ref:C,style:{visibility:"hidden"}})),!p&&i.a.createElement("div",{className:"controls-bottomright"},i.a.createElement("button",{className:"button-replay",onClick:function(){N(e.content.scene),f(null),O(!1),W()}},a["replay-button"]),i.a.createElement("button",{className:"button-next",ref:_,onClick:M},">")))},x=function(e){var t=e.content,a=e.translations,n=e.onClose,r=e.setCorrectAnswer,o=e.selectedAnswer,c=e.avatar,l=function(){n()};return i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay",className:"modal",onRequestClose:l},i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"header"},i.a.createElement("h1",null,a[t.header]," "),i.a.createElement("div",{className:"modal-close",onClick:function(){return l()}})),i.a.createElement(j,{content:t,translations:a,setCorrectAnswer:r,selectedAnswer:o,avatar:c})))},N=a(41),k=Object(c.forwardRef)((function(e,t){var a=Object(p.useApp)();if(a){var n="url('".concat(".","/img/cursors/dwarven_gauntlet_extra_6.png'), auto");a.renderer.plugins.interaction.cursorStyles.pointer=n}return i.a.createElement(C,Object.assign({app:a},e,{ref:t}))})),C=Object(p.PixiComponent)("Viewport",{create:function(e){var t=new N.a({screenWidth:e.screenWidth,screenHeight:e.screenHeight,worldWidth:e.worldWidth,worldHeight:e.worldHeight,ticker:e.app.ticker,interaction:e.app.renderer.plugins.interaction}),a=e.minScale,n=void 0===a?.5:a,r=e.maxScale,o=void 0===r?1:r;return t.drag().pinch().wheel().clamp({direction:"all"}).clampZoom({minScale:n,maxScale:o}).decelerate(),t}}),A=k,R=a(82),P="".concat(".","/images/map/conveyor-box.png"),_=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(),n=Object(u.a)(a,2),r=n[0],o=n[1],l=Object(p.useApp)();return Object(c.useEffect)((function(){l.loader.resources[P]?o(l.loader.resources[P].texture):l.loader.add(P).load((function(e,t){o(t[P].texture)}))}),[l]),Object(c.useEffect)((function(){if(r){var e=function(e){var a,n=new f.Sprite(r);null===(a=t.current)||void 0===a||a.addChild(n),n.x=568,n.y=160;var o=v.a.timeline({delay:e,repeat:-1,repeatDelay:1});o.to(n,{ease:h.b.easeNone,pixi:{x:956,y:256},duration:5}),o.to(n,{ease:h.b.easeNone,pixi:{x:959,y:278},duration:.5}),o.to(n,{ease:h.b.easeNone,pixi:{x:541,y:473},duration:6}),o.to(n,{delay:1,ease:h.b.easeNone,pixi:{alpha:0},duration:1})};e(0),e(3),e(5.5),e(7),e(9.5)}}),[r]),i.a.createElement(p.Container,e,i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png")}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-right.png"),x:87,y:152}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png"),x:160,y:39}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-right.png"),x:251,y:192}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/conveyor-left.png"),x:520,y:234}),i.a.createElement(p.Container,{ref:t}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-small.png"),x:320,y:78}))};!function(e){e[e.northEast=0]="northEast",e[e.southEast=1]="southEast",e[e.southWest=2]="southWest",e[e.northWest=3]="northWest"}(S||(S={}));var T=Object(c.forwardRef)((function(e,t){return i.a.createElement(p.Container,Object.assign({},e,{ref:t}),e.orientation===S.northEast&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-up.png"),anchor:[.5,0]}),e.orientation===S.southEast&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-down.png"),anchor:[.5,0]}),e.orientation===S.southWest&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-down.png"),scale:[-1,1],anchor:[.5,0]}),e.orientation===S.northWest&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/forklift-up.png"),scale:[-1,1],anchor:[.5,0]}))})),W=function(e){var t=Object(c.useRef)(null),a=Object(c.useState)(S.southWest),n=Object(u.a)(a,2),r=n[0],o=n[1],l=Object(c.useState)(1),s=Object(u.a)(l,2),m=s[0],d=s[1];return Object(c.useEffect)((function(){var e=v.a.timeline({repeat:-1,repeatDelay:1});e.to(t.current,{onStart:function(){o(S.southEast),d(1)},ease:h.b.easeNone,pixi:{x:1135,y:148},duration:5}),e.to(t.current,{onStart:function(){o(S.southWest),d(0)},ease:h.b.easeNone,pixi:{x:782,y:330},duration:3.5}),e.to(t.current,{onStart:function(){o(S.northWest),d(3)},ease:h.b.easeNone,pixi:{x:42,y:130},duration:5}),e.to(t.current,{onStart:function(){o(S.northEast),d(0)},ease:h.b.easeNone,pixi:{x:306,y:58},duration:2}),e.to(t.current,{onStart:function(){o(S.southEast),d(2)},ease:h.b.easeNone,pixi:{x:906,y:241},duration:4}),e.to(t.current,{onStart:function(){o(S.southWest),d(0)},ease:h.b.easeNone,pixi:{x:782,y:330},duration:2}),e.to(t.current,{onStart:function(){o(S.northWest),d(3)},ease:h.b.easeNone,pixi:{x:42,y:130},duration:5})}),[]),i.a.createElement(p.Container,e,i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:385,y:-172}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:191,y:-84}),i.a.createElement(T,{orientation:r,ref:t,x:484,y:72}),1===m&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:385,y:-172}),m>0&&m<3&&i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),x:191,y:-84}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/rack-big.png"),y:0,x:0,name:"racks closest"}))};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function M(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var H=i.a.createElement("style",{type:"text/css"},"\n\t.st0{fill:none;stroke:#3FA548;stroke-width:32;}\n"),L=i.a.createElement("defs",null),q=i.a.createElement("g",{id:"Page-1"},i.a.createElement("polyline",{id:"checkmark",className:"st0",points:"11.33,88.97 88.95,166.87 244.67,11.32  "})),B=function(e){var t=e.svgRef,a=e.title,n=M(e,["svgRef","title"]);return i.a.createElement("svg",D({id:"m-check-mark",x:"0px",y:"0px",width:"255.97px",height:"189.51px",viewBox:"0 0 255.97 189.51",style:{enableBackground:"new 0 0 255.97 189.51"},xmlSpace:"preserve",ref:t},n),a?i.a.createElement("title",null,a):null,H,L,q)},I=i.a.forwardRef((function(e,t){return i.a.createElement(B,D({svgRef:t},e))})),K=(a.p,a(76),function(e){var t=e.content,a=e.translations;return i.a.createElement("div",{className:"legenda"},i.a.createElement("div",{className:"avatar",style:{backgroundImage:"url(".concat(".","/images/avatars/").concat(e.avatar,"-front.png)")}}),i.a.createElement("ul",null,t.map((function(t,n){return function(t,n){return void 0===e.answers[n]?i.a.createElement("li",{className:"",onClick:function(){e.setSituationSelected(n)},key:t.header},a[t.header]):i.a.createElement("li",{className:"completed",key:t.header},i.a.createElement(I,{className:"check"}),a[t.header])}(t,n)}))))});R.a.registerPIXI(f),v.a.registerPlugin(R.a);var F=function(e){var t=e.content,a=e.translations,n=e.avatar,r=e.answers,o=e.setSituationOpen,l=Object(c.useRef)(null),s=Object(c.useState)(null),b=Object(u.a)(s,2),E=b[0],h=b[1],y=Object(c.useState)(1200),O=Object(u.a)(y,2),w=O[0],S=O[1],j=Object(c.useState)(600),N=Object(u.a)(j,2),k=N[0],C=N[1];Object(c.useEffect)((function(){var e=function(){var e=Math.min(window.innerWidth,window.outerWidth),t=Math.min(window.innerHeight,window.outerHeight);S(e),C(t)};return e(),window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),Object(c.useEffect)((function(){if(l.current){var e=l.current;e.moveCenter(1748.5,709.5),e.scale=new f.Point(.5,.5)}}),[w,k]),Object(c.useEffect)((function(){E?v.a.to(l.current,{duration:.5,pixi:{blur:20}}):v.a.to(l.current,{duration:.5,pixi:{blur:0}}),o(null!==E)}),[E,o]),Object(c.useEffect)((function(){d.a.add("plops",{url:"".concat(".","/sound/plops.wav"),autoPlay:!0})}),[]);var R=Object(c.useMemo)((function(){return null===E?null:null===t||void 0===t?void 0:t[E]}),[t,E]),P=function(e,t){var a=.5*t,n=new f.Point(e.position[0],e.position[1]),o=void 0===r[t];return i.a.createElement(g,{position:n,pointerdown:function(){return function(e,t){h(t)}(0,t)},delay:a,bounce:o,key:e.position.join("-")})};return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.Stage,{width:w,height:k,options:{transparent:!0}},i.a.createElement(A,{screenWidth:w,screenHeight:k,worldWidth:3497,worldHeight:1419,ref:l},i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/warehouse-back.png")},i.a.createElement(W,{x:1153,y:207}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/safe.png"),x:2086,y:296}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/middle.png"),x:806,y:334}),i.a.createElement(_,{name:"Conveyor",x:269,y:498}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/packing.png"),x:995,y:848,name:"packing-table"}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/map/warehouse-front-wall.png"),y:705,name:"front-wall"}),t.map((function(e,t){return P(e,t)}))))),i.a.createElement(K,{avatar:e.avatar,translations:a,content:t,answers:r,setSituationSelected:h}),R&&i.a.createElement(x,{content:R,translations:a,onClose:function(){h(null)},avatar:n,setCorrectAnswer:function(t){var a=Object(m.a)(r);a[E]=t,e.setAnswers(a)},selectedAnswer:r[E]}))},G=a(42),U=(a(77),function(e){switch(e){case"avatar1":return"avatar1-angle";case"avatar2":return"avatar2-front";case"avatar3":return"avatar3-front";case"avatar4":return"avatar4-angle"}}),z=function(e){var t=e.selectedAvatar,a=e.translations,n=function(a,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t===a?[new G.a(4,16763904)]:[],c=t===a?.7:.6,l=t===a?2:0,s="".concat(".","/images/avatars/").concat(U(a),".png");return i.a.createElement(p.Sprite,{image:s,filters:o,anchor:[.5,.5],scale:[r?-c:c,c],y:360,x:256+256*n,zIndex:l,interactive:!0,pointerdown:function(){return e.onChangeAvatar(a)}})};return i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay modal-intro-overlay",className:"modal modal-intro",onRequestClose:e.onClose},i.a.createElement("div",{className:"modal-content"},i.a.createElement("h1",{className:"header"},a["intro-header"]),i.a.createElement("div",{className:"avatar-selection"},i.a.createElement(p.Stage,{width:1280,height:720,options:{backgroundColor:16777215}},i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/background.png"),scale:1,anchor:.5,y:360,x:640}),i.a.createElement(p.Container,{sortableChildren:!0},n("avatar1",0),n("avatar2",1),n("avatar3",2),n("avatar4",3,!0))),i.a.createElement("div",{className:"footer"},i.a.createElement("p",{className:"subtext"},a["intro-subtext"],i.a.createElement("br",null),a["intro-choose-avatar"]),i.a.createElement("button",{onClick:e.onClose,disabled:void 0===e.selectedAvatar},a["intro-start"])))))},V=(a(78),function(e){var t=e.translations;return i.a.createElement(E.a,{isOpen:!0,ariaHideApp:!1,portalClassName:"modal-portal",overlayClassName:"modal-overlay modal-complete-overlay",className:"modal modal-complete"},i.a.createElement("div",{className:"modal-content"},i.a.createElement("h1",{className:"header"},t["complete-header"]),i.a.createElement("div",{className:"avatar-selection"},i.a.createElement(p.Stage,{width:1280,height:720,options:{backgroundColor:16777215}},i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/background.png"),scale:1,anchor:.5,y:360,x:640}),i.a.createElement(p.Sprite,{image:"".concat(".","/images/avatars/").concat(e.avatar,"-happy.png"),anchor:[.5,.5],scale:.8,y:360,x:640})),i.a.createElement("div",{className:"footer"},i.a.createElement("p",{className:"subtext"},t["complete-congrats"],i.a.createElement("br",null),i.a.createElement("button",{onClick:e.restart},t["replay-button"]))))))});a(79);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function Y(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var X=i.a.createElement("defs",null,i.a.createElement("style",null,".a{fill:#fff;}.a,.b{stroke:#283583;stroke-linecap:round;stroke-linejoin:round;stroke-width:0.75px;}.b{fill:none;}")),Z=i.a.createElement("title",null,"Back"),$=i.a.createElement("circle",{className:"a",cx:15.02,cy:15.02,r:14.65}),Q=i.a.createElement("path",{className:"b",d:"M11.64,16",transform:"translate(-0.97 -0.93)"}),ee=i.a.createElement("path",{className:"b",d:"M11.63,16",transform:"translate(-0.97 -0.93)"}),te=i.a.createElement("path",{className:"b",d:"M20.38,22.88",transform:"translate(-0.97 -0.93)"}),ae=i.a.createElement("line",{className:"b",x1:19.39,y1:8.16,x2:10.65,y2:15.02}),ne=i.a.createElement("line",{className:"b",x1:19.39,y1:21.98,x2:10.65,y2:15.11}),re=function(e){var t=e.svgRef,a=e.title,n=Y(e,["svgRef","title"]);return i.a.createElement("svg",J({width:30.04,height:30.04,viewBox:"0 0 30.04 30.04",ref:t},n),X,void 0===a?Z:a?i.a.createElement("title",null,a):null,$,Q,ee,te,ae,ne)},oe=i.a.forwardRef((function(e,t){return i.a.createElement(re,J({svgRef:t},e))})),ce=(a.p,function(e){var t=e.gameDataReceived,a=function(e){if(window.hasOwnProperty("webkit")&&window.webkit.hasOwnProperty("messageHandlers")){var t=JSON.stringify(e);webkit.messageHandlers.cordova_iab.postMessage(t)}else window.parent.postMessage(e,"*")};return Object(c.useEffect)((function(){if(Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLAYER_MODE){window.setGameData=function(e){a({type:"setGameData",data:e})},window.GAMEDATA=null,window.getGameData=function(){return window.GAMEDATA},window.addEventListener("message",(function(e){e.data.hasOwnProperty("userId")&&(window.GAMEDATA=e.data,t(e.data))}),!1)}}),[t]),Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLAYER_MODE?i.a.createElement("div",{className:"close"},i.a.createElement(oe,{onClick:function(){a({type:"exit"})}})):null});a(80);var ie=function(){var e=Object(c.useState)(!0),t=Object(u.a)(e,2),a=t[0],n=t[1],r=Object(c.useState)([]),o=Object(u.a)(r,2),l=o[0],s=o[1],m=Object(c.useState)("avatar1"),d=Object(u.a)(m,2),p=d[0],f=d[1],v=Object(c.useState)(!1),g=Object(u.a)(v,2),b=g[0],E=g[1],h=Object(c.useState)({}),y=Object(u.a)(h,2),O=y[0],w=y[1],S=Object(c.useState)(),j=Object(u.a)(S,2),x=j[0],N=j[1],k=Object(c.useMemo)((function(){return null===x||void 0===x?void 0:x.content}),[x]),C=Object(c.useCallback)((function(e){if(N(e),e.translations){var t=e.translations.reduce((function(e,t){return e[t.key]=t.value,e}),{});w(t)}}),[]);Object(c.useEffect)((function(){Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_PLAYER_MODE||k||(console.log("no bridge found, fetching fallback"),fetch("".concat(".","/config/conflict-resolution-EN.json")).then((function(e){e.json().then((function(e){C(e)}))})))}),[k,C]);var A=Object(c.useMemo)((function(){return l.filter(Boolean).length===(null===k||void 0===k?void 0:k.length)}),[l,k]),R=Object(c.useMemo)((function(){return A&&!b}),[A,b]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(ce,{gameDataReceived:C}),a&&i.a.createElement(z,{translations:O,selectedAvatar:p,onClose:function(){n(!1)},onChangeAvatar:f}),!R&&!a&&p&&k&&i.a.createElement(F,{content:k,translations:O,avatar:p,answers:l,setAnswers:s,setSituationOpen:E}),R&&p&&i.a.createElement(V,{avatar:p,restart:function(){s([])},translations:O}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(c.StrictMode,null,i.a.createElement(ie,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[46,1,2]]]);
//# sourceMappingURL=main.ba7a2280.chunk.js.map