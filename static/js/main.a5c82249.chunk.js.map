{"version":3,"sources":["common/constants.ts","content/parseContent.ts","components/pixi/Marker.tsx","components/contentModal/YoutubeModalContent.tsx","images/ui/check.svg","components/contentModal/OptionsModalContent.tsx","components/contentModal/IFrameModalContent.tsx","components/pixi/SituationScene.tsx","components/contentModal/ConflictModalContent.tsx","components/pixi/Forklift.tsx","components/contentModal/index.tsx","components/pixi/Viewport.tsx","components/pixi/Conveyor.tsx","components/pixi/BigRacks.tsx","components/legenda/index.tsx","components/Main.tsx","components/introModal/introModal.tsx","components/completeModal/completeModal.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["ContentType","SceneElementType","AvatarPose","SequenceItemType","parsed","rawJson","map","json","type","options","youtube","iframe","conflict","Marker","props","ref","useRef","data","useState","position","PIXI","image","bounce","process","useEffect","gsap","from","current","duration","ease","pixi","visible","scale","delay","bounceAnim","to","yoyo","repeat","y","Math","random","kill","onDragStart","event","onDragEnd","undefined","onDragMove","anchor","interactive","mousedown","touchstart","mouseup","mouseupoutside","mousemove","touchmove","YoutubeModalContent","content","url","width","_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","createElement","_ref3","_ref4","id","className","points","_ref","svgRef","title","x","height","viewBox","style","enableBackground","xmlSpace","ForwardRef","forwardRef","OptionsModalContent","selectedOption","selectOption","description","backgroundImage","bannerImg","option","index","onClick","disabled","IframeModalContent","src","SituationScene","sceneConfig","avatar","otherProps","backgroundColor","e","sceneElement","flipped","pose","renderElement","registerPlugin","TextPlugin","Orientation","ConflictModalContent","selectedAnswer","reaction","useMemo","reactions","confirmed","setConfirmed","scene","setSceneConfig","balloonRef","balloonArrowRef","balloonTextRef","insetRef","nextButtonRef","sound","add","sequence","playSequence","useCallback","tl","timeline","balloonText","inset","killTweensOf","removeAttribute","innerHTML","text","forEach","sequenceItem","onStart","visibility","speech","balloonArrowPos","right","positionArrow","caption","value","oldClass","newClass","Linear","easeNone","autoAlpha","display","left","Sine","easeInOut","rect","getBoundingClientRect","top","offsetTop","window","addEventListener","removeEventListener","handleSkipSequenceStep","currentIndex","parseInt","currentLabel","substring","isNaN","seek","handleYes","correct","play","setCorrectAnswer","handleNo","renderOption","element","otherOptions","querySelectorAll","opacity","parentTop","querySelector","childTop","distance","abs","onComplete","setTimeout","handleOptionClick","currentTarget","split","p","confirmText","yesText","noText","ContentModal","onClose","handleClose","isOpen","ariaHideApp","portalClassName","overlayClassName","onRequestClose","header","renderContent","Viewport","app","useApp","cursor","renderer","plugins","interaction","cursorStyles","pointer","PixiComponentViewport","PixiComponent","create","viewport","PixiViewport","screenWidth","screenHeight","worldWidth","worldHeight","ticker","minScale","maxScale","drag","pinch","wheel","clamp","direction","clampZoom","decelerate","boxImagePath","Conveyor","boxContainerRef","boxTexture","setBoxTexture","loader","resources","texture","load","_","rss","spawnBox","sprite","addChild","repeatDelay","alpha","Forklift","orientation","northEast","southEast","southWest","northWest","BigRacks","forkliftRef","forkliftOrientation","setForkliftOrientation","forkliftLane","setForkliftLane","name","Legenda","contentItem","item","answers","setSituationSelected","PixiPlugin","registerPIXI","Main","setSituationOpen","viewportRef","selectedSituation","setSelectedSituation","canvasWidth","setCanvasWidth","canvasHeight","setCanvasHeight","resize","min","innerWidth","outerWidth","innerHeight","outerHeight","moveCenter","blur","autoPlay","selectedContent","renderMarker","pointerdown","handleMarkerClick","join","transparent","answer","copy","setAnswers","getAvatarImage","IntroModal","selectedAvatar","renderAvatar","filters","OutlineFilter","zIndex","stageHeight","stageWidth","onChangeAvatar","sortableChildren","CompleteModal","restart","App","intro","setIntro","setAvatar","situationIsOpen","completed","filter","Boolean","showCompleted","location","hostname","match","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.a5c82249.chunk.js","sourcesContent":["export interface ISituations {\n  [name: string]: ISituation\n}\n  \nexport interface ISituation {\n  header: string;\n  description: string;\n  options: string[];\n}\n\nexport enum ContentType {\n  youtube = \"youtube\",\n  options = \"options\",\n  iframe = \"iframe\",\n  conflict = \"conflict\",\n}\n  \nexport interface IContent<T extends YoutubeContent | OptionsContent | IframeContent | ConflictContent> {\n  position: number[];\n  type: ContentType;\n  header: string;\n  content: T;\n}\n\nexport type AnyContent = IContent<YoutubeContent> | IContent<OptionsContent> | IContent<IframeContent> | IContent<ConflictContent>;\n\nexport interface YoutubeContent {\n  url: string;\n}\n\nexport interface IframeContent {\n  url: string;\n  height?: number | string;\n}\n\nexport interface OptionsContent {\n  description: string;\n  bannerImg: string;\n  options: string[];\n  correctAnswers: number[];\n}\nexport interface ConflictContent {\n  description: string;\n  sequence: SequenceItem[];\n  scene: SceneElement[];\n  situationSpeech: string;\n  options: string[];\n  reactions: ConflictReaction[];\n}\n\nexport interface SceneElement {\n  image?: string;\n  type?: SceneElementType;\n  position?: [number, number];\n  scale?: number;\n  flipped: boolean;\n  pose: AvatarPose;\n}\n\nexport enum SceneElementType {\n  sprite = \"sprite\",\n  avatar = \"avatar\",\n}\n\nexport enum AvatarPose {\n  angle = \"angle\",\n  front = \"front\",\n  side = \"side\",\n  angry = \"angry\"\n}\n\nexport interface ConflictReaction { \n  correct: boolean, \n  text: string, \n  scene: SceneElement[]; \n  confirmText: string,\n  yesText: string;\n  noText: string;\n  confirmImage?: string \n}\n\nexport enum SequenceItemType {\n  caption = 'caption',\n  speech = 'speech',\n  image = 'image',  // image, no speech\n}\n\nexport interface SequenceItem {\n  type: SequenceItemType,\n  text: string,\n  balloonArrowPos?: number;\n  \n  scene?: SceneElement[]; // optional override\n}","import rawJson from './content.json';\nimport { IContent, ContentType, OptionsContent, YoutubeContent, IframeContent, ConflictContent, AnyContent } from '../common/constants';\n\nconst parsed = rawJson.map((json) => {\n  const type: ContentType = (ContentType as any)[json.type];\n  switch (type) {\n    case ContentType.options: \n      return json as any as IContent<OptionsContent>;\n    case ContentType.youtube: \n      return json as any as IContent<YoutubeContent>;\n    case ContentType.iframe: \n      return json as any as IContent<IframeContent>;\n    case ContentType.conflict: \n      return json as any as IContent<ConflictContent>;\n  }\n});\nexport default parsed as AnyContent[];","import React, { useRef, useEffect, useState, ComponentProps } from 'react';\nimport { Sprite } from '@inlet/react-pixi';\nimport * as PIXI from 'pixi.js';\nimport { gsap } from 'gsap'\n\n\nconst CAN_DRAG = false;\ninterface Props {\n    position?: PIXI.Point;\n    delay?: number; // Wait this long before showing\n    bounce?: boolean;\n}\n\nconst Marker = (props: Props & ComponentProps<typeof Sprite>) => {\n    const ref = useRef<PIXI.Sprite>(null);\n    const data = useRef<PIXI.interaction.InteractionData>();\n    const [position, setPosition] = useState<PIXI.Point>(props.position || new PIXI.Point());\n    const popInDuration = 1;\n    const image = props.bounce ? `${process.env.PUBLIC_URL}/images/ui/marker.svg` :  `${process.env.PUBLIC_URL}/images/ui/marker-green.svg`;\n\n    useEffect(() => {\n        // Pop in animation!\n        gsap.from(ref.current, { \n          duration: popInDuration,\n          ease: \"elastic.out(2, 0.5)\",\n          pixi: { \n            visible: false,\n            scale: .1, \n          }\n        }).delay(props.delay || 0);\n    }, [props.delay]);\n\n    useEffect(() => {\n        let bounceAnim: gsap.core.Tween;\n        // Bounce animation!\n        if (props.bounce !== false) {\n            bounceAnim = gsap.to(ref.current, { \n                duration: .5,\n                yoyo: true,\n                repeat: -1,\n                pixi: { \n                  y: '-=40', \n                }\n              }).delay(popInDuration + Math.random());      \n        }\n        return () => {\n            bounceAnim?.kill();\n        }\n    }, [props.bounce]);\n\n    const onDragStart = (event: PIXI.interaction.InteractionEvent) => {\n        if (!CAN_DRAG) return;\n        // store a reference to the data\n        // the reason for this is because of multitouch\n        // we want to track the movement of this particular touch\n        data.current = event.data;\n        event.stopPropagation(); // Stop dragging the map!\n    }\n    \n    const onDragEnd = () => {\n        data.current = undefined;\n    }\n    \n    const onDragMove = () => {\n        if (!CAN_DRAG) return;\n        if (data.current)\n        {\n            const newPosition = data.current.getLocalPosition(ref.current!.parent);\n            setPosition(newPosition);\n        }\n    }\n    \n    return (\n        <Sprite \n            { ...props }\n            anchor={[0.5, 0.5]}\n            position={position}\n            ref={ref}\n            interactive={true}\n            image={image}\n            mousedown={onDragStart}\n            touchstart={onDragStart}\n            mouseup={onDragEnd}\n            mouseupoutside={onDragEnd}\n            mousemove={onDragMove}\n            touchmove={onDragMove}\n        />\n    );\n}\n\nexport default Marker;","import React from 'react';\nimport { YoutubeContent } from '../../common/constants';\nimport ReactPlayer from \"react-player\";\n\ninterface Props {\n  content: YoutubeContent;\n}\n\nconst YoutubeModalContent = (props: Props) => {\n  const {content} = props;\n  return (\n    <ReactPlayer\n      url={content.url}\n      width=\"100%\"\n    /> \n  )\n}\n\nexport default YoutubeModalContent;","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"style\", {\n  type: \"text/css\"\n}, \"\\n\\t.st0{fill:none;stroke:#3FA548;stroke-width:32;}\\n\");\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"defs\", null);\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"polyline\", {\n  id: \"checkmark\",\n  className: \"st0\",\n  points: \"11.33,88.97 88.95,166.87 244.67,11.32  \"\n}));\n\nvar SvgCheck = function SvgCheck(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"m-check-mark\",\n    x: \"0px\",\n    y: \"0px\",\n    width: \"255.97px\",\n    height: \"189.51px\",\n    viewBox: \"0 0 255.97 189.51\",\n    style: {\n      enableBackground: \"new 0 0 255.97 189.51\"\n    },\n    xmlSpace: \"preserve\",\n    ref: svgRef\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _ref2, _ref3, _ref4);\n};\n\nvar ForwardRef = React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgCheck, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/check.81786b3c.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { OptionsContent } from '../../common/constants';\nimport { ReactComponent as CheckSvg } from './../../images/ui/check.svg';\n\ninterface Props {\n  content: OptionsContent;\n}\n\nconst OptionsModalContent = (props: Props) => {\n  const {content} = props;\n  const [selectedOption, selectOption] = useState<number | null>(null);\n\n  return (\n    <div className=\"modal-content modal-options\">\n      <p>\n        {content.description}\n      </p>\n      <div className=\"banner\" style={{ backgroundImage: `url(${process.env.PUBLIC_URL}/${content.bannerImg})`}}></div>\n      <ul className=\"options\">\n        {content.options.map((option, index) => (\n          <li key={option} className={index === selectedOption ? \"active\" : \"\"} onClick={() => selectOption(index)} >\n            <div className=\"checkbox\">\n              <CheckSvg className=\"check\" />\n            </div>\n            <div className=\"text\">\n              {option}\n            </div>\n          </li>\n        ))}\n      </ul>\n      <button disabled={selectedOption === null} >\n        <b>Okay</b>\n      </button>\n    </div>\n  )\n}\n\nexport default OptionsModalContent;\n\n","import React, { useState } from 'react';\nimport { IframeContent } from '../../common/constants';\n\ninterface Props {\n  content: IframeContent;\n}\n\nconst IframeModalContent = (props: Props) => {\n  const {content} = props;\n  \n  return (\n    <iframe\n      title=\"21cc game\"\n      src={content.url}\n      width=\"100%\"\n      height={content.height}\n    /> \n  )\n}\n\nexport default IframeModalContent;\n\n","import React, { useRef, useEffect, useState, ComponentProps } from 'react';\nimport { Sprite, Container, Stage } from '@inlet/react-pixi';\nimport { SceneElement, SceneElementType } from '../../common/constants';\nimport * as PIXI from 'pixi.js';\n\ninterface Props {\n  sceneConfig: SceneElement[];\n  avatar: string;\n}\n\n\nif (process.env.NODE_ENV === \"development\") {\n  // @ts-ignore\n  window.__PIXI_INSPECTOR_GLOBAL_HOOK__ && window.__PIXI_INSPECTOR_GLOBAL_HOOK__.register({ PIXI: PIXI });\n}\n\nconst SituationScene = (props: Props & ComponentProps<typeof Container>) => {\n  // const ref = useRef<PIXI.Sprite>(null);\n  // const data = useRef<PIXI.interaction.InteractionData>();\n  // const [position, setPosition] = useState<PIXI.Point>(props.position || new PIXI.Point());\n  // const popInDuration = 1;\n  const {sceneConfig, avatar, ...otherProps} = props;\n  const renderElement = (sceneElement: SceneElement) => {\n    const scale: [number, number] = [sceneElement.scale || 1, sceneElement.scale || 1];\n    if (sceneElement.flipped) scale[0] = -scale[0];\n\n\n    switch (sceneElement.type) {\n      case SceneElementType.avatar:\n        return (\n          <Sprite \n            image={`${process.env.PUBLIC_URL}/images/avatars/${avatar}-${sceneElement.pose || \"front\"}.png`} \n            key=\"avatar\" \n            position={sceneElement.position || [0, 0]}\n            scale={scale}\n            anchor={[0.5, 0]}\n          />\n        )\n      default: \n        return (\n          <Sprite \n            image={`${process.env.PUBLIC_URL}/${sceneElement.image}`} \n            key={sceneElement.image} \n            position={sceneElement.position || [0, 0]}\n          />\n        )\n    }\n  }\n  return (\n      <Stage width={1280} height={720} className=\"scene\" options={{backgroundColor: 0xffffff}}>\n        <Container {...otherProps} >\n         {sceneConfig.map(e => renderElement(e))}\n        </Container>\n      </Stage>\n  )\n}\n\nexport default SituationScene;","import React, { useState, useEffect, useRef, useMemo, useCallback } from 'react';\nimport { ConflictContent, SequenceItemType, SceneElement } from '../../common/constants';\nimport { gsap, Linear, Sine } from 'gsap'\nimport { TextPlugin } from 'gsap/all';\nimport sound from 'pixi-sound';\nimport SituationScene from '../pixi/SituationScene';\nimport \"./conflictModal.css\";\n\ngsap.registerPlugin(TextPlugin);\nconst SPEED_MODIFIER = 1; // for debugging\n\ninterface Props {\n  content: ConflictContent;\n  avatar: string;\n  setCorrectAnswer: (index: number) => void;\n  selectedAnswer?: number; // When answer has been set correctly before\n}\n\nconst ConflictModalContent = (props: Props) => {\n  const {content, avatar, selectedAnswer = null} = props;\n  const [selectedOption, selectOption] = useState<number | null>(selectedAnswer);\n  // Reaction based on current selection\n  const reaction = useMemo(() => {\n    if (selectedOption === null) return null;\n    return props.content.reactions[selectedOption];\n  }, [props.content.reactions, selectedOption]);\n  \n  const [confirmed, setConfirmed] = useState(selectedAnswer != null);\n  const [sceneConfig, setSceneConfig] = useState<SceneElement[]>(reaction?.scene || props.content.scene);\n  const balloonRef = useRef<HTMLDivElement>(null);\n  const balloonArrowRef = useRef<HTMLDivElement>(null);\n  const balloonTextRef = useRef<HTMLSpanElement>(null);\n  const insetRef = useRef<HTMLDivElement>(null);\n  const ref = useRef<HTMLDivElement>(null);\n  const nextButtonRef = useRef<HTMLButtonElement>(null);\n\n  const handleOptionClick = (element: HTMLLIElement, index: number) => {\n    element.className = \"animating\";\n    if (!ref.current) return;\n\n    // Fade out the non selected options\n    const otherOptions = ref.current!.querySelectorAll(\".options .normal\");\n    gsap.to(otherOptions, {\n      duration: 0.5,\n      opacity: 0,\n      ease: Linear.easeNone,\n    });\n\n    // Move current option to top\n    var parentTop = ref.current!.querySelector(\".options\")!.getBoundingClientRect().top; // Initial parent's top distance from the top of the viewport;\n    var childTop = element.getBoundingClientRect().top;\n    var distance = Math.abs(parentTop - childTop);\n\n    gsap.to(element, {\n      duration: 0.5,\n      top: -distance,\n      ease: Linear.easeNone,\n      onComplete: () => {\n        setTimeout(() => {\n          element.className = \"\";\n          selectOption(index);\n        }, 250);\n      }\n    });\n  };\n\n  useEffect(() => {\n    sound.add('correct', `${process.env.PUBLIC_URL}/sound/correct.mp3`);    \n    sound.add('wrong', `${process.env.PUBLIC_URL}/sound/wrong.mp3`);\n  }, []);\n\n  const sequence = useRef<gsap.core.Timeline>();\n  const playSequence = useCallback(() => {\n    const tl = gsap.timeline();\n    sequence.current = tl;\n    const balloonText = balloonTextRef!.current!;\n    const inset = insetRef.current!;\n    gsap.killTweensOf(balloonText);\n    gsap.killTweensOf(balloonRef.current);\n    gsap.killTweensOf(inset);\n\n    // Reset\n    if (nextButtonRef.current) nextButtonRef.current!.removeAttribute('style');\n    balloonRef.current!.removeAttribute('style');\n    balloonArrowRef.current!.removeAttribute('style');\n    inset.removeAttribute('style');\n\n    // Build timeline\n    balloonText.innerHTML = content.sequence[0].text;\n\n    // All the sequences\n    content.sequence.forEach((sequenceItem, index) => {\n\n      const onStart = () => {\n        if (balloonArrowRef.current) {\n          balloonArrowRef.current.style.visibility = sequenceItem.type === SequenceItemType.speech ? 'visible' : 'hidden';\n        }\n        if (sequenceItem.type !== SequenceItemType.image) {\n          if (balloonRef.current) {\n            balloonRef.current!.className = `balloon ${sequenceItem.type}`;\n          }\n          balloonText.innerHTML = sequenceItem.text;\n          \n          if (sequenceItem.balloonArrowPos && balloonArrowRef.current) {\n            balloonArrowRef.current!.style.right = `${sequenceItem.balloonArrowPos}%`;  \n          }\n          positionArrow();\n        }\n\n        if (sequenceItem.scene) {\n          setSceneConfig(sequenceItem.scene);\n        }\n      } \n\n      tl.add(`seq-${index}`);\n      switch (sequenceItem.type) {\n        case SequenceItemType.caption:\n          tl.to(balloonText, {\n            onStart,\n            duration: sequenceItem.text.length * 0.025 / SPEED_MODIFIER,\n            text: {\n              value: sequenceItem.text, \n              oldClass: \"hidden\",\n              newClass: \"visible\"\n            },\n            ease: Linear.easeNone,\n          });\n          tl.to(balloonText, { duration: 3});\n          break;\n        case SequenceItemType.speech:\n          tl.to(balloonText, {\n            onStart,\n            duration: sequenceItem.text.length * 0.045 / SPEED_MODIFIER,\n            ease: Linear.easeNone,\n          });\n          break;\n        case SequenceItemType.image:\n          tl.to(balloonRef.current, {\n            onStart,\n            duration: .25,\n            autoAlpha: 0,\n            ease: Linear.easeNone,\n          });\n          tl.to(balloonArrowRef.current, {\n            duration: .25,\n            autoAlpha: 0,\n            ease: Linear.easeNone,\n          }, \"-=.25\");\n          break;\n      }\n    });\n\n    tl.add(`seq-${content.sequence.length}`);\n\n    // Fade the balloon out\n    tl.to(balloonRef.current, {\n      delay: 1 / SPEED_MODIFIER,\n      duration: .5,\n      autoAlpha: 0,\n      ease: Linear.easeNone,\n    });\n\n    tl.add('end');\n    // Slide inset in\n    tl.to(inset, {\n      onStart: () => {\n        if (nextButtonRef.current) \n          nextButtonRef.current!.style.display = \"none\";\n\n        if (balloonArrowRef.current)\n          balloonArrowRef.current.style.visibility = 'hidden';\n      },\n      duration: .5,\n      left: 0,\n      ease: Sine.easeInOut,\n    }, \"-=1\");\n  }, [content.sequence]);\n\n  const positionArrow = () => {\n    if (!balloonRef.current || !balloonArrowRef.current) return;\n    const rect = balloonRef.current.getBoundingClientRect();\n    balloonArrowRef.current.style.top = `${balloonRef.current.offsetTop + rect.height}px`;\n  }\n\n  useEffect(() => {\n    window.addEventListener('resize', positionArrow);\n    return () => {\n      window.removeEventListener('resize', positionArrow);\n    }\n  }, []);\n\n  const handleSkipSequenceStep = () => {\n    if (!sequence.current) return;\n    const currentIndex = parseInt(sequence.current.currentLabel().substring('seq-'.length));\n    if (isNaN(currentIndex)) return;\n    sequence.current.seek(`seq-${currentIndex+1}`, false);\n  }\n\n  useEffect(() => {\n    if (selectedAnswer) {\n      insetRef.current!.style.left = '0px';\n      balloonRef.current!.style.visibility = 'hidden';\n    }\n    else {\n      playSequence();\n    }\n  }, [content.sequence, playSequence, selectedAnswer]);\n\n  const handleReplay = () => {\n    setSceneConfig(props.content.scene);\n    selectOption(null);\n    setConfirmed(false);\n    playSequence();\n  }\n\n  const handleYes = () => {\n    setConfirmed(true);\n    setSceneConfig(reaction!.scene);\n\n    if (reaction!.correct) {\n      sound.play('correct');\n      props.setCorrectAnswer(selectedOption!);\n    } else {\n      sound.play('wrong');\n    }\n  }\n\n  const handleNo = () => {\n    if (!sequence.current) return;\n    setSceneConfig(props.content.scene);\n    selectOption(null);\n    setConfirmed(false);\n    sequence.current.seek('end', false);\n  }\n\n  const renderReaction = () => {\n    if (!reaction) {\n      return null;\n    }\n    if (!confirmed) {\n      return (\n        <>\n          <p>{reaction.confirmText}</p>\n          <p>\n            <button onClick={handleYes}>yes</button>\n            <span className=\"motivation\">{reaction.yesText}</span>\n          </p>\n          <p>\n            <button onClick={handleNo}>no</button>\n            <span className=\"motivation\">{reaction.noText}</span>\n          </p>\n        </>\n      )\n    }\n    return (\n      <>\n        { reaction?.correct && (<p className=\"right-option\">You’ve chosen the right option!</p>)}\n        {reaction.text.split(\"\\n\").map(p => <p key={p.substring(0, 10)}>{p}</p>)}\n        { (!reaction?.correct) && (\n         <button onClick={handleNo} className=\"button-replay\">\n           try again\n         </button>\n        )}     \n      </>\n    )\n  }\n\n  const renderOption = (option: string, index: number) => {\n    if (selectedOption === null) {\n      // Nothing selected, render all\n      return (\n        <li key={option} className=\"normal\" onClick={(e) => handleOptionClick(e.currentTarget, index)} >\n          <div className=\"text\">\n            {option}\n          </div>\n        </li>\n      );\n    }\n    if (selectedOption === index) {\n      // Render only selected option\n      let className = 'selected';\n      if (confirmed) {\n        className = reaction?.correct ? \"correct\" : \"wrong\";\n      }\n\n      return (\n        <li key={option} className={className} >\n          <div className=\"text\">\n            {option}\n          </div>\n        </li>\n      );\n    }\n  }\n\n  return (\n    <div className=\"modal-content modal-conflict\" ref={ref}>\n      <div className=\"situation\" onClick={handleSkipSequenceStep}>\n        { props.content.scene && <SituationScene sceneConfig={sceneConfig} avatar={avatar}/>}\n        <div className=\"inset\" ref={insetRef}>\n          <p>\n            {content.description}\n          </p>\n          <ul className=\"options\">\n            {content.options.map((option, index) => renderOption(option, index))}\n          </ul>\n          { renderReaction() }\n        </div> \n        <div className={`balloon`} ref={balloonRef}>\n          <span ref={balloonTextRef}></span>\n        </div>\n        <div className=\"balloon-arrow\" ref={balloonArrowRef} style={{visibility: 'hidden'}}/>\n      </div>\n      { !selectedOption && (\n        <div className=\"controls-bottomright\">\n          <button className=\"button-replay\" onClick={handleReplay}>\n            replay\n          </button>\n          <button className=\"button-next\" ref={nextButtonRef} onClick={handleSkipSequenceStep}>\n            {\">\"}\n          </button>\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default ConflictModalContent;","import React, { ComponentProps, forwardRef } from \"react\";\nimport { PixiComponent, applyDefaultProps, Container, useApp, Sprite } from \"@inlet/react-pixi\";\nimport * as PIXI  from 'pixi.js';\n\n\nexport enum Orientation {\n  northEast,\n  southEast,\n  southWest,\n  northWest,\n}\n\ninterface Props  {\n    orientation: Orientation;\n};\n\nconst Forklift = forwardRef<PIXI.Container, any>((props: Props & ComponentProps<typeof Container>, ref) => {\n  return (\n    <Container {...props} ref={ref}>\n      { props.orientation === Orientation.northEast && <Sprite image={`${process.env.PUBLIC_URL}/images/map/forklift-up.png`}  anchor={[0.5, 0]}/>}\n      { props.orientation === Orientation.southEast && <Sprite image={`${process.env.PUBLIC_URL}/images/map/forklift-down.png`} anchor={[0.5, 0]} />}\n      { props.orientation === Orientation.southWest && <Sprite image={`${process.env.PUBLIC_URL}/images/map/forklift-down.png`} scale={[-1, 1]} anchor={[0.5, 0]}/>}\n      { props.orientation === Orientation.northWest && <Sprite image={`${process.env.PUBLIC_URL}/images/map/forklift-up.png`} scale={[-1, 1]} anchor={[0.5, 0]}/>}\n    </Container>\n  )\n});\n\nexport default Forklift;","import React from 'react';\nimport ReactModal from 'react-modal';\nimport './modal.css';\nimport { AnyContent, ContentType, YoutubeContent, OptionsContent, IframeContent, ConflictContent } from '../../common/constants';\nimport YoutubeModalContent from './YoutubeModalContent';\nimport OptionsModalContent from './OptionsModalContent';\nimport IframeModalContent from './IFrameModalContent';\nimport ConflictModalContent from './ConflictModalContent';\n\ninterface Props {\n  content: AnyContent;\n  avatar: string;\n  onClose: () => void;\n  setCorrectAnswer: (answer: number) => void;\n  selectedAnswer?: number;\n}\n\nconst ContentModal = (props: Props) => {\n  const { content, onClose, setCorrectAnswer, selectedAnswer, avatar } = props;\n\n  const handleClose = () => {\n    onClose();\n  };\n\n  const renderContent = () => {\n    switch(content.type) {\n      case ContentType.youtube: \n        return <YoutubeModalContent content={content.content as YoutubeContent} />;\n      case ContentType.options: \n        return <OptionsModalContent content={content.content as OptionsContent} />;\n      case ContentType.iframe: \n        return <IframeModalContent content={content.content as IframeContent} />;\n      case ContentType.conflict: \n        return (\n          <ConflictModalContent \n            content={content.content as ConflictContent}\n            setCorrectAnswer={setCorrectAnswer}\n            selectedAnswer={selectedAnswer}\n            avatar={avatar}\n          />\n        );\n    }\n  }\n\n  return (\n    <ReactModal\n      isOpen={true}\n      ariaHideApp={false}\n      portalClassName=\"modal-portal\"\n      overlayClassName=\"modal-overlay\"\n      className=\"modal\"\n      onRequestClose={handleClose}\n    >\n      <>\n        <div className=\"header\">\n          <h1>{content.header} </h1>\n          <div className=\"modal-close\" onClick={() => handleClose()}></div>\n        </div>\n        {renderContent()}\n      </>\n    </ReactModal>  \n  )\n}\n\nexport default ContentModal;\n\n","import React, { forwardRef, ReactNode } from \"react\";\nimport { Viewport as PixiViewport, ClickEventData } from \"pixi-viewport\";\nimport { PixiComponent, useApp } from \"@inlet/react-pixi\";\n\ninterface Props {\n  children: ReactNode;\n  onClick?(event: ClickEventData): void;\n  screenWidth: number,\n  screenHeight: number,\n  worldWidth: number,\n  worldHeight: number,\n  minScale?: number;\n  maxScale?: number;\n}\n\n/** Viewport leverages pixi-viewport to create a pannable map \n * https://davidfig.github.io/pixi-viewport/jsdoc/\n */\nconst Viewport = forwardRef<PixiViewport, any>((props, ref) => {\n  const app = useApp();\n  if (app) {\n      // Perhaps this is better moved somewhere else\n      const cursor = `url('${process.env.PUBLIC_URL}/img/cursors/dwarven_gauntlet_extra_6.png'), auto`;\n      app.renderer.plugins.interaction.cursorStyles.pointer = cursor;\n  }\n  return <PixiComponentViewport app={app} {...props} ref={ref} />;  \n})\n\ninterface PixiComponentProps {\n    app: PIXI.Application;\n}\n\nconst PixiComponentViewport = PixiComponent(\"Viewport\", {\n  create: (props: PixiComponentProps & Props) => {\n    const viewport = new PixiViewport({\n      screenWidth: props.screenWidth,\n      screenHeight: props.screenHeight,\n      worldWidth: props.worldWidth,\n      worldHeight: props.worldHeight,\n      ticker: props.app.ticker,\n      interaction: props.app.renderer.plugins.interaction,\n      // the interaction module is important for wheel to work properly when renderer.view is placed or scaled\n    });\n\n    const { \n      minScale = .5, \n      maxScale = 1 \n    } = props;\n    \n    viewport\n      .drag()\n      .pinch()\n      .wheel()\n      .clamp({ direction: 'all' })\n      .clampZoom({ minScale, maxScale })\n      .decelerate();\n\n    return viewport;\n  },\n});\nexport default Viewport;\n","import React, { useRef, useEffect, useState, ComponentProps } from 'react';\nimport { Sprite, Container, useApp } from '@inlet/react-pixi';\nimport * as PIXI from 'pixi.js';\nimport { gsap, Linear } from 'gsap'\n\nconst boxImagePath = `${process.env.PUBLIC_URL}/images/map/conveyor-box.png`;\n\nconst Conveyor = (props: ComponentProps<typeof Container>) => {\n  const boxContainerRef = useRef<PIXI.Container>(null);\n  const [boxTexture, setBoxTexture] = useState<PIXI.Texture>();\n  const app = useApp();\n\n  useEffect(() => {\n    if (!app.loader.resources[boxImagePath]) {\n      app.loader.add(boxImagePath)\n      .load((_, rss) => {\n        setBoxTexture(rss[boxImagePath]!.texture);\n      })\n    } else {\n      setBoxTexture(app.loader.resources[boxImagePath]!.texture);\n    }\n  }, [app]);\n\n  useEffect(() => {\n    if (!boxTexture) return;\n\n    const spawnBox = (delay: number) => {\n      const sprite = new PIXI.Sprite(boxTexture);\n      boxContainerRef.current?.addChild(sprite);\n      sprite.x = 568;\n      sprite.y = 160;\n\n      const tl = gsap.timeline({\n        delay,\n        repeat: -1, \n        repeatDelay: 1\n      });\n      tl.to(sprite, {\n        ease: Linear.easeNone,\n        pixi: { \n          x: 956,\n          y: 256\n        }, \n        duration: 5\n      });\n      tl.to(sprite, {\n        ease: Linear.easeNone,\n        pixi: { \n          x: 959,\n          y: 278\n        }, \n        duration: .5\n      });\n      tl.to(sprite, {\n        ease: Linear.easeNone,\n        pixi: { \n          x: 541,\n          y: 473\n        }, \n        duration: 6\n      });\n      tl.to(sprite, {\n        delay: 1,\n        ease: Linear.easeNone,\n        pixi: { \n          alpha: 0\n        }, \n        duration: 1\n      });\n\n      // const duration = 3;\n      // gsap.to(sprite, { \n      //   duration,\n      //   ease: Linear.easeNone,\n      //   pixi: { \n      //     //visible: false,\n      //     x: boxMovePath[1][0], \n      //     y: boxMovePath[1][1],\n      //   }\n      // });\n    }\n\n    spawnBox(0);\n    spawnBox(3);\n    spawnBox(5.5);\n    spawnBox(7);\n    spawnBox(9.5);\n  }, [boxTexture]);\n\n  return (\n    <Container {...props}>\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-small.png`} />\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/conveyor-right.png`} x={87} y={152} />\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-small.png`} x={160} y={39} />\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/conveyor-right.png`} x={251} y={192} />\n      \n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/conveyor-left.png`} x={520} y={234} />\n      <Container ref={boxContainerRef}>\n\n      </Container>\n      {/* <Sprite image={`${process.env.PUBLIC_URL}/images/map/conveyor-box.png`} x={568} y={160} name=\"box1\" />\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/conveyor-box.png`} x={956} y={267} name=\"box2\" /> */}\n      \n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-small.png`} x={320} y={78} />\n      \n      {/* 956,267 */}\n    </Container>\n  );\n}\n\nexport default Conveyor;","import React, { useRef, useEffect, useState, ComponentProps } from 'react';\nimport { Sprite, Container } from '@inlet/react-pixi';\nimport Forklift, { Orientation } from './Forklift';\nimport { gsap, Linear } from 'gsap'\n\nconst BigRacks = (props: ComponentProps<typeof Container>) => {\n  const forkliftRef = useRef<PIXI.Container>(null);\n  const [forkliftOrientation, setForkliftOrientation] = useState<Orientation>(Orientation.southWest);\n  const [forkliftLane, setForkliftLane] = useState<number>(1); // lane 1 is furthest away, lane 2 is closest by\n\n  useEffect(() => {\n    const tl = gsap.timeline({\n      repeat: -1, \n      repeatDelay: 1\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.southEast); setForkliftLane(1) },\n      ease: Linear.easeNone,\n      pixi: { \n        x: 1135,\n        y: 148\n      }, \n      duration: 5\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.southWest); setForkliftLane(0)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 782,\n        y: 330\n      }, \n      duration: 3.5\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.northWest); setForkliftLane(3)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 42,\n        y: 130\n      }, \n      duration: 5\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.northEast); setForkliftLane(0)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 306,\n        y: 58\n      }, \n      duration: 2\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.southEast); setForkliftLane(2)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 906,\n        y: 241\n      }, \n      duration: 4\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.southWest); setForkliftLane(0)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 782,\n        y: 330\n      }, \n      duration: 2\n    });\n    tl.to(forkliftRef.current, {\n      onStart: () => { setForkliftOrientation(Orientation.northWest); setForkliftLane(3)},\n      ease: Linear.easeNone,\n      pixi: { \n        x: 42,\n        y: 130\n      }, \n      duration: 5\n    });\n  }, []);\n\n  /** note, this z order stuff friggin blows */\n  return (\n    <Container {...props}>\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-big.png`} x={385} y={-172} />\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-big.png`} x={191} y={-84} />\n\n      <Forklift orientation={forkliftOrientation} ref={forkliftRef} x={484} y={72} />\n      { forkliftLane === 1 && <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-big.png`} x={385} y={-172} />}\n      { forkliftLane > 0 && forkliftLane < 3 && <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-big.png`} x={191} y={-84} />}\n\n\n      <Sprite image={`${process.env.PUBLIC_URL}/images/map/rack-big.png`} y={0} x={0} name=\"racks closest\"/>\n    </Container>\n  );\n}\n\nexport default BigRacks;","import React from \"react\";\nimport { AnyContent } from \"../../common/constants\";\nimport { ReactComponent as CheckSvg } from './../../images/ui/check.svg';\nimport \"./legenda.css\";\n\ninterface Props {\n    avatar: string;\n    content: AnyContent[];\n    answers: number[];\n    setSituationSelected: React.Dispatch<React.SetStateAction<number | null>>;\n}\n\nconst Legenda = (props: Props) => {\n    const {content} = props;\n\n    const renderContent = (item: AnyContent, index: number) => {\n        const completed = props.answers[index] === undefined;\n        const handleClick = () => {\n            props.setSituationSelected(index);\n        }\n        if (completed) {\n            return (\n                <li className=\"\" onClick={handleClick} key={item.header}>\n                    {item.header}\n                </li>\n            )\n        }\n\n        return (\n            <li className=\"completed\" key={item.header}>\n                <CheckSvg className=\"check\" />\n                {item.header}\n            </li>\n        )\n    }\n    return (\n        <div className=\"legenda\">\n            <div className=\"avatar\"\n                style={{backgroundImage: `url(${process.env.PUBLIC_URL}/images/avatars/${props.avatar}-front.png)`}}\n            >\n\n            </div>\n            <ul>\n                {content.map((contentItem, index) => renderContent(contentItem, index))}\n            </ul>\n        </div>\n    )\n}\n\nexport default Legenda;","import React, { useState, useRef, useEffect, useMemo } from \"react\";\nimport { Viewport as PixiViewport } from \"pixi-viewport\";\nimport { AnyContent } from \"../common/constants\";\nimport sound from 'pixi-sound';\nimport Marker from \"./pixi/Marker\";\nimport { Stage, Sprite } from \"@inlet/react-pixi\";\nimport ContentModal from \"./contentModal\";\nimport Viewport from \"./pixi/Viewport\";\nimport * as PIXI from 'pixi.js';\nimport { PixiPlugin } from 'gsap/all';\nimport { gsap } from 'gsap'\nimport Conveyor from \"./pixi/Conveyor\";\nimport BigRacks from \"./pixi/BigRacks\";\nimport Legenda from \"./legenda\";\n\nPixiPlugin.registerPIXI(PIXI);\ngsap.registerPlugin(PixiPlugin);\n\n// if (process.env.NODE_ENV === \"development\") {\n//   // @ts-ignore\n//   window.__PIXI_INSPECTOR_GLOBAL_HOOK__ && window.__PIXI_INSPECTOR_GLOBAL_HOOK__.register({ PIXI: PIXI });\n// }\n\ninterface Props {\n  content: AnyContent[];\n  answers: number[];\n  avatar: string;\n  setAnswers: (value: number[]) => void;\n  setSituationOpen: (value: boolean) => void;\n}\n\nconst Main = (props: Props) => {\n  const { content, avatar, answers, setSituationOpen } = props;\n  const viewportRef = useRef<PixiViewport>(null);\n  const [selectedSituation, setSelectedSituation] = useState<number | null>(null);\n\n  const worldWidth = 3497;\n  const worldHeight = 1419;\n\n  const [canvasWidth, setCanvasWidth] = useState(1200);\n  const [canvasHeight, setCanvasHeight] = useState(600);\n\n  useEffect(() => {\n    // This will set the dimensions of the canvas to that of the window\n    const resize = () => {\n      const width = Math.min(window.innerWidth, window.outerWidth);\n      const height = Math.min(window.innerHeight, window.outerHeight);\n      setCanvasWidth(width);\n      setCanvasHeight(height); \n    }\n    resize();\n\n    window.addEventListener(\"resize\", resize);\n    return () => {\n      window.removeEventListener(\"resize\", resize);\n    };\n  }, []);\n\n  useEffect(() => {\n    // Center the map\n    if (viewportRef.current) {\n      const viewport = viewportRef.current;\n      viewport.moveCenter(worldWidth / 2, worldHeight / 2);  \n      viewport.scale = new PIXI.Point(0.5, 0.5);\n    }\n  }, [canvasWidth, canvasHeight]);\n\n  useEffect(() => {\n    // Blur the map when situation is selected\n    if (selectedSituation) {\n      gsap.to(viewportRef.current, {duration: .5, pixi: {blur:20}});\n    } else {\n      gsap.to(viewportRef.current, {duration: .5, pixi: {blur:0}});\n    }\n\n    setSituationOpen(selectedSituation !== null)\n  }, [selectedSituation, setSituationOpen]);\n\n  useEffect(() => {\n    sound.add('plops', {\n      url: `${process.env.PUBLIC_URL}/sound/plops.wav`,\n      autoPlay: true,\n    });    \n  }, []);\n\n  const handleMarkerClick = (content: AnyContent, index: number) => {\n    setSelectedSituation(index);\n  }\n\n  const handleClose = () => {\n    setSelectedSituation(null);\n  }\n\n  const handleCorrectAnswer = (answer: number) => {\n    // gets called from within modal once the correct answer is selected\n    const copy = [...answers];\n    copy[selectedSituation!] = answer;\n\n    props.setAnswers(copy);\n  }\n\n  const selectedContent = useMemo(() => {\n    if (selectedSituation === null) {\n      return null;\n    }\n    return content?.[selectedSituation];\n  }, [content, selectedSituation]);\n  \n  const renderMarker = (contentItem: AnyContent, index: number) => {\n    const delay = index * 0.5;\n    const position = new PIXI.Point(contentItem.position[0], contentItem.position[1]);\n    const bounce = answers[index] === undefined;\n\n    return (\n      <Marker \n        position={position} \n        pointerdown={() => handleMarkerClick(contentItem, index)}\n        delay={delay}\n        bounce={bounce}\n        key={contentItem.position.join('-')}\n      />\n    ); \n  }\n\n  return (\n    <>\n      <Stage width={canvasWidth} height={canvasHeight} options={{transparent: true}} >\n        <Viewport screenWidth={canvasWidth} screenHeight={canvasHeight} worldWidth={worldWidth} worldHeight={worldHeight} ref={viewportRef} >\n          <Sprite image={`${process.env.PUBLIC_URL}/images/map/warehouse-back.png`} >\n            <BigRacks x={1153} y={207} />\n            <Sprite image={`${process.env.PUBLIC_URL}/images/map/safe.png`} x={2086} y={296} />\n            <Sprite image={`${process.env.PUBLIC_URL}/images/map/middle.png`} x={806} y={334} />\n\n            <Conveyor name={\"Conveyor\"} x={269} y={498} />\n            <Sprite image={`${process.env.PUBLIC_URL}/images/map/packing.png`} x={995} y={848} name=\"packing-table\"/>\n\n            <Sprite image={`${process.env.PUBLIC_URL}/images/map/warehouse-front-wall.png`} y={705} name=\"front-wall\"/>\n            {content.map((contentItem, index) => renderMarker(contentItem, index))}\n          </Sprite>\n        </Viewport>\n      </Stage>\n      <Legenda avatar={props.avatar} content={content} answers={answers} setSituationSelected={setSelectedSituation}/>\n      { selectedContent && (\n        <ContentModal \n          content={selectedContent} \n          onClose={handleClose}\n          avatar={avatar}\n          setCorrectAnswer={handleCorrectAnswer}\n          selectedAnswer={(answers[selectedSituation!])}\n        /> \n      )}\n    </>\n  )\n};\n\nexport default Main;","import React, { useEffect } from 'react';\nimport ReactModal from 'react-modal';\nimport './introModal.css';\nimport { Stage, Sprite, Container } from '@inlet/react-pixi';\nimport {OutlineFilter} from '@pixi/filter-outline';\nimport * as PIXI from 'pixi.js';\n\ninterface Props {\n  selectedAvatar?: string;\n  onClose: () => void;\n  onChangeAvatar: (name: string) => void;\n}\n\nconst stageHeight = 720;\nconst stageWidth = 1280;\n\nconst IntroModal = (props: Props) => {\n  const {selectedAvatar} = props;\n\n  const renderAvatar = (name: string, index: number, flipped: boolean = false) => {\n    const filters = selectedAvatar === name ? [new OutlineFilter(4, 0xffcc00)] : [];\n    let scale = selectedAvatar === name ? .7 : .6;\n    const zIndex = selectedAvatar === name ? 2 : 0;\n\n    const image = `${process.env.PUBLIC_URL}/images/avatars/${getAvatarImage(name)}.png`;\n\n    return <Sprite \n      image={image} \n      filters={filters} \n      anchor={[0.5, 0.5]}\n      scale={[(flipped ? -scale : scale), scale]}\n      y={stageHeight / 2}\n      x={stageWidth / 5 + (index * (stageWidth / 5))}\n      zIndex={zIndex}\n      interactive\n      pointerdown={() => props.onChangeAvatar(name)}\n    />;\n  }\n\n  return (\n    <ReactModal\n      isOpen={true}\n      ariaHideApp={false}\n      portalClassName=\"modal-portal\"\n      overlayClassName=\"modal-overlay modal-intro-overlay\"\n      className=\"modal modal-intro\"\n      onRequestClose={props.onClose}\n    >\n      <div className=\"modal-content\">\n        <h1 className=\"header\">Strife and Fracas</h1>\n\n        <div className=\"avatar-selection\">\n          <Stage width={stageWidth} height={stageHeight} options={{ backgroundColor: 0xffffff}}>\n            <Sprite image={`${process.env.PUBLIC_URL}/images/avatars/background.png`} \n              // filters={[new PIXI.filters.BlurFilter(4)]} \n              scale={1} \n              anchor={.5}\n              y={stageHeight / 2}\n              x={stageWidth / 2}\n            />\n            <Container sortableChildren>\n              { renderAvatar('avatar1', 0) }\n              { renderAvatar('avatar2', 1) }\n              { renderAvatar('avatar3', 2) }\n              { renderAvatar('avatar4', 3, true) }\n            </Container>\n          </Stage>\n          <div className=\"footer\">\n            <p className=\"subtext\">\n            Discord and tensions are particularly high in the warehouse today. \n            As a manager, you have to play the role of a mediator to resolve conflicts and get people working towards common goals.\n            See if you can resolve the conflicts popping up all over the warehouse.\n            <br/>\n            Choose an avatar to start playing.    \n            </p>\n            <button \n              onClick={props.onClose} \n              disabled={props.selectedAvatar === undefined}\n            >\n              Start\n            </button>\n          </div>\n        </div>\n      </div>\n    </ReactModal>  \n    )\n}\n\nconst getAvatarImage = (avatar: string) => {\n  switch (avatar) {\n    case \"avatar1\":\n      return \"avatar1-angle\";\n    case \"avatar2\":\n      return \"avatar2-front\";\n    case \"avatar3\":\n      return \"avatar3-front\";\n    case \"avatar4\":\n      return \"avatar4-angle\";\n  }\n}\n\nexport default IntroModal;\n","import React from 'react';\nimport ReactModal from 'react-modal';\nimport './completeModal.css';\nimport { Stage, Sprite } from '@inlet/react-pixi';\n\ninterface Props {\n  avatar: string;\n  restart: () => void;\n}\n\nconst stageHeight = 720;\nconst stageWidth = 1280;\n\nconst CompleteModal = (props: Props) => {\n\n  return (\n    <ReactModal\n      isOpen={true}\n      ariaHideApp={false}\n      portalClassName=\"modal-portal\"\n      overlayClassName=\"modal-overlay modal-complete-overlay\"\n      className=\"modal modal-complete\"\n    >\n      <div className=\"modal-content\">\n        <h1 className=\"header\">Game completed!</h1>\n\n        <div className=\"avatar-selection\">\n          <Stage width={stageWidth} height={stageHeight} options={{ backgroundColor: 0xffffff}}>\n            <Sprite image={`${process.env.PUBLIC_URL}/images/avatars/background.png`} \n              scale={1} \n              anchor={.5}\n              y={stageHeight / 2}\n              x={stageWidth / 2}\n            />\n            <Sprite \n              image={`${process.env.PUBLIC_URL}/images/avatars/${props.avatar}-happy.png`} \n              anchor={[0.5, 0.5]}\n              scale={0.8}\n              y={stageHeight / 2}\n              x={stageWidth / 2}\n              />\n          </Stage>\n          <div className=\"footer\">\n            <p className=\"subtext\">\n            Congratulations, your warehouse is now a conflict-free zone!\n            <br/>\n            <button onClick={props.restart}>\n              Replay\n            </button>\n            </p>\n          </div>\n        </div>\n      </div>\n    </ReactModal>  \n    )\n}\n\nexport default CompleteModal;\n","import React, { useState, useMemo } from 'react';\nimport content from './content/parseContent';\nimport Main from './components/Main';\nimport IntroModal from './components/introModal/introModal';\nimport CompleteModal from './components/completeModal/completeModal';\nimport './App.css';\n\nfunction App() {\n\n  const [intro, setIntro] = useState(true);\n  const [answers, setAnswers] = useState<number[]>([]);\n  const [avatar, setAvatar] = useState<string>();\n  const [situationIsOpen, setSituationOpen] = useState(false);\n\n  const handleRestart = () => {\n    setAnswers([]);\n  }\n\n  const completed = useMemo(() => {\n    return answers.filter(Boolean).length === content.length;\n  }, [answers]);\n\n  const showCompleted = useMemo(() => completed && !situationIsOpen, [completed, situationIsOpen]);\n\n  return (\n    <>\n      { intro && (<IntroModal selectedAvatar={avatar} onClose={() => {setIntro(false)}} onChangeAvatar={setAvatar}/>)}\n      { !showCompleted && !intro && avatar && <Main content={content} avatar={avatar} answers={answers} setAnswers={setAnswers} setSituationOpen={setSituationOpen}/> }\n      { showCompleted && avatar && (<CompleteModal avatar={avatar} restart={handleRestart}/>)}\n    </>  \n  )\n};\n\nexport default App;\n\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React, { StrictMode } from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <StrictMode>\n    <App />\n  </StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}